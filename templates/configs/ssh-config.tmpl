# =============================================================================
# SSH Configuration
# Generated by dotfiles template system - DO NOT EDIT DIRECTLY
# Regenerate with: dotfiles template render
# =============================================================================
# Machine: {{ hostname }} ({{ machine_type }})
# Generated: {{ datetime }}
# =============================================================================

# -----------------------------------------------------------------------------
# Global Defaults
# -----------------------------------------------------------------------------
Host *
    # Connection settings
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Security settings
    IdentitiesOnly yes
    AddKeysToAgent yes

    # macOS Keychain integration (ignored on Linux)
    IgnoreUnknown UseKeychain
    UseKeychain yes

# -----------------------------------------------------------------------------
# GitHub
# -----------------------------------------------------------------------------
Host github.com
    HostName github.com
    User git
{{#if ssh_default_identity }}
    IdentityFile {{ ssh_default_identity }}
{{#else}}
    IdentityFile ~/.ssh/id_ed25519
{{/if}}

{{#if github_enterprise_host }}
# -----------------------------------------------------------------------------
# GitHub Enterprise
# -----------------------------------------------------------------------------
Host {{ github_enterprise_host }}
    HostName {{ github_enterprise_host }}
    User git
{{#if ssh_default_identity }}
    IdentityFile {{ ssh_default_identity }}
{{#else}}
    IdentityFile ~/.ssh/id_ed25519
{{/if}}
{{/if}}

{{#if machine_type == "work" }}
# -----------------------------------------------------------------------------
# Work-Specific Hosts
# Add your work servers here via _variables.local.sh
# -----------------------------------------------------------------------------
# Example:
# Host work-server
#     HostName server.company.com
#     User {{ ssh_default_user }}
#     IdentityFile ~/.ssh/id_ed25519_work
{{/if}}

# -----------------------------------------------------------------------------
# Custom Hosts (from SSH_HOSTS array)
# Define SSH_HOSTS in _variables.local.sh
# Format: name|hostname|user|identity_file|extra_options
# -----------------------------------------------------------------------------
{{#each ssh_hosts}}
Host {{ name }}
    HostName {{ hostname }}
    User {{ user }}
    IdentityFile {{ identity }}
{{#if extra }}    {{ extra }}
{{/if}}
{{/each}}
# =============================================================================
# Include local overrides (for hosts not managed by templates)
# =============================================================================
Include ~/.ssh/config.local
